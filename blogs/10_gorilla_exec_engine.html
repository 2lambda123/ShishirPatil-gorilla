<!DOCTYPE html>
<html>

<head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NRZJLJCSH6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-NRZJLJCSH6');
    </script>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gorilla Execution Engine</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro">
    <link rel="stylesheet" href="../assets/css/styles.css">
</head>

<body>
    <!-- Navigation Bar -->
    <div class="navbar" style="position: absolute; top: 0; right: 20px; padding: 10px; z-index: 100; font-size: 18px;">
        <a href="/index.html">Home</a>
        <a href="/blog.html">Blogs</a>
        <a href="/leaderboard.html">Leaderboard</a>
        <a href="/apizoo/">API Zoo Index</a>
    </div>
    <div class="highlight-clean-blog" style="padding-bottom: 10px;">
        <h1 class="text-center" style="padding-bottom: 10px;"> GoEx: An LLM Interface that Sometimes Works</h1>

        <div class="blog-container">
            <div class="blog-post">
                <div class="author-date">
                    <p class="author"> <a href=""> TEMP AUTHOR </a> </p>
                    <p class="date">Apr 9, 2024</p>
                </div>

                <img src="..\assets\img\blog_10\goex_intro_image.png" alt="How to Use Gorilla Image"
                    style="width: 100%;">
                <p width="80%" style="text-align:center; padding-bottom: -10px">
                    <i style="font-size: 0.9em;">
                        GoEx offers a new way to interface with LLMs, providing abstractions for authorization, execution, and error handling.
                    </i>
                </p>

                <div class="Introduction">
                    <p>
                        Beyond its current use as a human centric chatbot, LLM technology is advancing 
                        towards interaction between applications and services. We believe the future lies
                        in LLM powered microservices and applications, with little to no human supervision 
                        between communicating services. However, this vision has substantial challenges; 
                        after all, who would trust an unknown ML actor to execute foreign, untested code? 
                        The Gorilla Exec Engine provides a first step towards this idea: a runtime environment 
                        that provides abstractions for authorization and information security.
                    </p>
                </div>



                <div class="body">
                    <ol type="I">
                        <h4>
                            <li> Motivating Concepts for GoEx
                        </h4>
                        <p>
                            There are a couple concepts and concerns that arise in the context of executing LLM 
                            generated code. Here are a couple we address with Exec Engine:
                        </p>

                        <ol>
                            <li><b>Post-Facto Validation:</b>
                                <br>
                                <ul>
                                    In the context of API calls, it is often easier to verify the correctness of the call by 
                                    analyzing its result, rather than the process. Take this example:
                                </ul>
                                <pre
                                style="white-space: pre-wrap; width: 100%; overflow-x: auto; background-color: #f4f4f4; color: #333;">
                                    <code>
    def send_message_to_latest_channel(message):
        # List the user's channels
        channels_url = 'https://slack.com/api/conversations.list'
        params = {'exclude_archived': 'true', 'limit': 1, 'types': 'public_channel,private_channel'}
        channels_response = requests.get(channels_url, headers=headers, params=params).json()

        if not channels_response['ok']:
            raise Exception('Failed to list channels')

        channel_id = channels_response['channels'][0]['id']

        # Send a message to the most recent channel
        message_url = 'https://slack.com/api/chat.postMessage'
        message_data = {'channel': channel_id, 'text': message}
        message_response = requests.post(message_url, headers=headers, data=message_data).json()

        if not message_response['ok']:
            raise Exception('Failed to send message')

        print('Message sent successfully to the most recent channel')

    # Example usage
    send_message_to_latest_channel('Hello from your most recent slack channel!')
                                    </code>
                                </pre>
                                <ul>
                                    This code was generated with the prompt: "Send a message to my most recently used Slack channel." 
                                    At first glance, it's hard to tell whether the generated code is correct or not. Upon running it, the code
                                    instead sends the message to the first slack channel returned by Slack. Unfortunately for our developers, this one happened
                                    to ping everyone in Sky Lab's general channel.
                                </ul>
                                <ul>
                                    Regardless, it often easier to find mistakes after execution, motivating the following paradigm. 
                                </ul>
                            </li>
                            <li> <b>Reversibility/ Undo Command:</b>
                                <br>
                                <ul>
                                    In order to be able to rectify mistakes made by the LLM, we propose having a
                                    generated ‚Äúundo‚Äù function. If an API call changes some state, then most likely
                                    there will be another API call that undoes that action. We choose to undo erroneous 
                                    actions rather than just mitigating them.
                                </ul>
                            </li>
                            <li> <b>Blast Radius</b>
                                <ul>
                                    Blast radius is another term we define as the scope of what the LLM can do. 
                                    It provides an upper bound on the amount of damage that an LLM could do. One 
                                    way that we reduce the blast radius of LLMs is to only provide the relevant 
                                    credentials during each execution. If I‚Äôm trying to create a new playlist on 
                                    Spotify, the LLM should not have access to my Gmail credentials. In this way, 
                                    we mitigate the risks of running unverified code. Another form of blast radius 
                                    control comes in the form of OAuth scopes. OAuth services attach certain permissions 
                                    to each generated token. For instance, I want to be able to read my files on Dropbox, 
                                    I don‚Äôt need write access. During authentication, this scope is specified, and attached 
                                    to the generated authentication token. 
                                </ul>
                            </li>
                            <li><b>Credential Security</b>
                                <ul>
                                    When we pass in input to the LLM, we want to avoid giving it sensitive information as 
                                    much as possible. Many consumers would not feel comfortable providing secret keys to an LLM.
                                    There are many ways to rectify this, for instance, giving LLM dummy keys or placeholder text 
                                    to use. In Gorilla Exec Engine, we store credentials in the local file system. We then provide 
                                    the file path to the object to the LLM so it can indirectly use them. In this way, none of the 
                                    sensitive information is leaked to the model, but they are still usable during execution.  
                                </ul>
                            </li>
                        </ol>
                        </p>
                        </li>
                        <h4>
                            <li> Gorilla CLI üñ•Ô∏è
                        </h4>
                        <p>
                            <i>
                                Check out the repo 
                                <a href="https://colab.research.google.com/drive/1DEBPsccVLF_aUnmD0FwPeHFrtdC0QIUP?usp=sharing">
                                    here at github.
                                </a>
                                Let us know what you think!
                            </i>
                            <br>
                        <p>
                            The Gorilla CLI is an easy to use demo of the gorilla engine, 
                            right in your terminal. It has functionality for RESTful, database, 
                            filesystem calls. Here are the three types of APIs it supports:
                        </p>
                        <ol>
                            <li>RESTful</li>
                            <li>Database</li>
                            <li>Filesystem</li>
                        </ol>
                        </p>
                        <p>
                            The CLI can be easily used through pip. For more information on how to execute check out the repo. 
                        </p>
                        <h4>
                           <li>RESTful API Calls: 
                        </h4>
                        <img src="..\assets\img\blog_10\rest-diagram.png" alt="How to Use Gorilla Image"
                        style="width: 100%;">
                        <p width="80%" style="text-align:center; padding-bottom: -10px">
                            <i style="font-size: 0.9em;">
                                GoEx restful calls store credentials in the "Secret Intelligent Vault", stored locally and automatically retrieved during queries. In all situation, the option of reverse call is attempted.
                            </i>
                        </p>
                        <p>
                            Specify a natural language request and we will automatically provide credentials to execute 
                            a RestAPI call. Some services OAuth services we current support include the following: 
                        </p>
                        <ul>
                            <li>Gmail</li>
                            <li>Slack</li>
                            <li>Dropbox</li>
                            <li>Github</li>
                            <li>Spotify</li>
                        </ul>
                        <br>
                        <i>
                            Note on Spotify: our Spotify application is still under review, if there are any Spotify
                            employees reading this put in the good word for us!
                        </i>
                        <br>
                        <br>
                        <p>
                            We provide two different ways to authenticate:
                        </p>
                        <ol>
                            <li>
                                OAuth Authentication: Simply specify a service, and we will open a browser for you to 
                                sign and provide credentials. These credentials are stored in your local filesystem, 
                                and are not recorded by us. 
                            </li>
                            <li>
                                API Key: Add in raw API keys directly in the terminal, and they will be saved in local files for future use.
                            </li>
                        </ol>
                        <br>
                        <p>
                            In both cases, credentials are automatically retrieved based on the given prompt. Only the 
                            relevant credentials are provided for each individual prompt, limiting the risk of execution.
                        </p>
                        <p>
                            After execution, we display the code output for you to verify. The LLM is also prompted to provide 
                            a reverse call, which can be selected after the forward call. Not all API calls are reversible, 
                            though in all cases the LLM is prompted to make an attempt at generating one. To call the reverse 
                            call, simply select the reverse option in the terminal.
                        </p>
 

                        <h4 id="integrate-third-party">
                            <li>Databases (CLI Only) 
                        </h4>

                        <img src="..\assets\img\blog_10\db-diagram.png" alt="Database diagram"
                        style="width: 100%;">
                        <p width="80%" style="text-align:center; padding-bottom: -10px">
                            <i style="font-size: 0.9em;">
                                GoEx offers two modes of execution, Reversal and Versioning. See below for details.
                            </i>
                        </p>
                        <p>
                            With databases, all you need to do is to provide your database connection config and the engine 
                            will handle the rest. We currently support MySQL and SQLite, and will add support for other DBs 
                            down the line. 
                        </p>
                        <p>
                            We support a large number of operations, including but not limited to, insertion, deletion, table 
                            creation, modifications and more. Here is a video demonstrating how it works with the CLI:
                        </p>

                        <h5>Steps</h5>
                        <ol>
                            <li>
                                Provide the database access configurations (MySQL login + host or SQLite3 DB Path) and  specify the database you wish to use. We have a script for you to do this hassle-free!
                            </li>
                            <li>
                                Ask your question. The following is an example:
                                <code>
                                    goex execute -prompt "Create a new table for storing user information called users, with each user having a current balance column denoting their bank balance" -type db
                                </code>
                            </li>
                            <li>
                                GoEx executes and asks you for confirmation (Commit/Undo)
                            </li>
                        </ol>    
                        
                        Super simple and straightforward flow! More details here in the <a href= "https://github.com/gorilla-llm/exec-engine?tab=readme-ov-file#database">repo.</a>
                        
                        <p>
                            The database works with two options:
                        </p>
                        <ul>
                            <li>
                                <b>Option 1 (Reversal):</b>
                                Makes use of a reverse database operation to perform the undo. It is done by prompting the LLM with 
                                the original operation (action call) along with the schema to generate the reversal operation (undo call). 
                                Committing would require no action, and undoing would just be performing the undo call after the action call 
                                is done. This option scales better as additional users can continue perform database actions without needing 
                                to wait for the previous user to finish their transaction at the cost of relying on the LLM to come up with 
                                an undo call, which may or may not have unexpected behaviors.
                            </li>
                            <li>
                                <b>Option 2 (Versioning):</b>
                                Makes use of the traditional ACID transaction guarantees of the database and holds off on completing a 
                                transaction until the user specifies to do so, or rolls back to the previous state. Committing would involve 
                                committing the transaction, and undoing is synonymous to a rollback transaction. This branch is able to provide 
                                reversal guarantees that branch 1 cannot, at the expense of higher performance overhead.
                                <br>
                                <br>
                                This can be changed by doing: 
                                <code>
                                    goex -set_config option {1 or 2}
                                </code>
                            </li>
                            <br>
                        </ul>
                        <div class="responsive-iframe-container" style="text-align: center;">
                            <iframe src="https://www.youtube.com/embed/oW5aww589nE?si=BxcW64itZ3Je15N_"  frameborder="0"
                                style="width: 70%; height: 400px;"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                            </iframe>
                        </div>
                        
                        <h4>
                            <li>Filesystem (CLI Only)
                        </h4>
                        <img src="..\assets\img\blog_10\fs-diagram.png" alt="Filesystem Diagram"
                        style="width: 100%;">
                        <p width="80%" style="text-align:center; padding-bottom: -10px">
                            <i style="font-size: 0.9em;">
                                Similar to databases, filesystem calls have two modes
                            </i>
                        </p>
                        <p>
                            With filesystems, all you need to do is to enter a directory path at which you want GoEx to execute in, 
                            and the engine will handle the rest. We currently support only Unix file system commands, and will add 
                            support for other command types down the line. 
                        </p>
                        <p>
                            We support almost every common file-related operation, and rest assured that the execution will only take 
                            place within the specified directory, so the rest of your filesystem is safe!
                        </p>    
                        <h5>Steps</h5>
                        <ol>
                            <li>
                                Provide the directory path. We have a script for you to do this hassle-free!
                            </li>
                            <li>
                                Ask your question. The following is an example:
                                <code>
                                    goex execute -prompt "Write a witty LLM joke into joke.txt" -type fs
                                </code>
                            </li>
                            <li>
                                GoEx executes and asks you for confirmation (Commit/Undo)
                            </li>
                        </ol>
                        <p>
                            Another super simple and straightforward flow! More details here in the <a href= "https://github.com/gorilla-llm/exec-engine?tab=readme-ov-file#filesystem">repo.</a>
                        </p>
                        <div class="responsive-iframe-container" style="text-align: center;">
                            <iframe src="https://www.youtube.com/embed/vLlVpdelz0U?si=1HBb-GFgsMeBcIra"  frameborder="0"
                                style="width: 70%; height: 400px;"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                            </iframe>
                        </div>
                        <h4>
                            <li>GoEx Web-App
                        </h4>
                        <p>
                            Another option to check out the exec engine would be the web-app, hosted <a href= "https://goex.gorilla-llm.com/">here.</a> 
                            Currently, the web-app supports only RESTful calls. The web-app displays generated LLM code, allowing users not only to see, 
                            but to edit the model output. Then, users can decide whether to run the forward or reverse call and view the output. 
                            To save your queries for later, we provide the ability to log in with Google, automatically saving all content. 
                        </p>
                        <div class="responsive-iframe-container" style="text-align: center;">
                            <iframe src="https://www.youtube.com/embed/CBxaGsqJPkQ?si=JAbA8HoGSo3Hs1cz" frameborder="0"
                                style="width: 70%; height: 400px;"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                            </iframe>
                        </div>
                        <p class="text-center">
                            Explore GoEx without any installation using the GoEx Web-App
                        </p>
                        <p>
                            Currently the web app does not support all security functionality that the Gorilla CLI provides. Notably, the CLI does not 
                            expose API keys to the LLM model, instead passing in a file path to retrieve sensitive information. This is not possible 
                            on a web browser, and so the queries generated using the front end involve passing raw credentials to the LLM model.
                        </p>
                        <p>
                            In the web-app, all sensitive credentials are stored in browser local storage, then retrieved when necessary to execute. 
                            Our decision to store this data in local storage was motivated by a desire to provide security assurances to the user. 
                            We do not store any sensitive information on our servers. Currently, authentication can come in the form of OAuth 
                            credentials as well as raw API keys. The number of OAuth services we provide are limited to the ones we add support for, 
                            but any number of raw API keys can be added in the browser for different services. 
                        </p>
                        <img src="..\assets\img\blog_10\frontend.png" alt="How to Use Gorilla Image"
                            style="width: 100%;">
                        <p width="80%" style="text-align:center; padding-bottom: -10px">
                            <i style="font-size: 0.9em;">
                                User flow progresses as follows: first the user specifies a prompt, then reviews the generated code. 
                                Then, the user chooses to execute the code, sending along the credentials to our Exec Engine server. This server acts 
                                as an interface to the Exec Engine code that powers the CLI. The response is then sent back to the user to verify. Any 
                                code changes can be made directly in the browser, then executed again. Bookingkeeping for user information is located in 
                                a separate server for clarity.                       
                            </i>
                        </p>

                        <h4><li>Summary</h4>
                        <p>
                            This blog post went over the numerous methods use LLM powered API calls with GoEx. GoEx represents the first
                            step toward an interconnected, LLM powered landscape.
                            Be sure to check out our <a href="https://discord.gg/grXXvj9Whz">Discord community</a> for
                            updates and any questions as well as our <a
                                href="https://github.com/ShishirPatil/gorilla">official repo</a> on Github.
                        </p>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <style>
        body {
            font-family: 'Source Sans Pro', sans-serif;
            margin: 0;
            padding: 0;
            background: white;
            justify-content: center;
            align-items: center;
        }

        .blog-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .blog-post {
            padding: 20px;
            max-width: 70%;
            justify-content: center;
        }
        
        @media only screen and (max-width: 768px) {
            .blog-post {
                max-width: 100%;
            }
        }

        .blog-post img {
            display: block;
            margin: 0 auto;
        }

        .blog-title {
            color: #055ada;
            text-align: center;
        }

        .author-date {
            display: flex;
            margin-bottom: 0px;
            justify-content: center;
        }

        .author {
            font-size: 16px;
            color: #1E90FF;
            margin-right: 20px;
        }

        .date {
            font-size: 16px;
            color: #7e8790;
        }

        .preview {
            text-align: justify;
            text-justify: inter-word;
        }

        .highlight-clean-blog {
            color: #313437;
            background-color: #fff;
            padding: 50px 0;
        }

        .box-index {
            position: fixed;
            top: 50%;
            left: 0px;
            transform: translateY(-50%);
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 150px;
        }

        .box-index h3 {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .box-index ul {
            list-style-type: disc;
            padding: 0;
        }

        .box-index ul li {
            margin-bottom: 10px;
        }

        .box-index ul li a {
            text-decoration: none;
            color: #333;
        }

        .box-index ul li a:hover {
            color: #1E90FF;
        }


        .more-blogs .sub-menu {
            display: none;
        }

        .more-blogs .sub-menu.expanded {
            display: block;
            max-height: 200px;
            /* Adjust the max height as needed */
            overflow-y: auto;
        }

        .more-blogs .sub-menu li {
            padding: 10px;
            border-bottom: 1px solid #ccc;
        }

        .more-blogs .sub-menu li:last-child {
            border-bottom: none;
        }

        .more-blogs .caret {
            transition: transform 0.3s ease-in-out;
            display: inline-block;
            transform: rotate(0deg);
            font-size: 12px;
            /* Adjust the font size to change the caret size */
        }

        .more-blogs.expanded .caret {
            transform: rotate(90deg);
        }

        @media screen and (max-width: 768px) {
            .blog-post {
                padding: 10px;
                /* Adjust spacing for smaller screens */
            }

            .blog-post img {
                max-width: 80%;
                /* Reduce image size for smaller screens */
            }

            .box-index {
                display: none;
                /* Hide the index on smaller screens */
            }
        }

        .container {
            max-width: 100%;
            width: auto;
        }


        @media (max-width: 768px) {
            h1 {
                font-size: 24px; 
            }

            h2 {
                font-size: 18px;
            }
        }

    </style>
</body>

</html>

<script>
    function toggleMoreBlogs() {
        var subMenu = document.querySelector('.more-blogs .sub-menu');
        var parentItem = document.querySelector('.more-blogs');
        subMenu.classList.toggle('expanded');
        parentItem.classList.toggle('expanded');
    }
</script>